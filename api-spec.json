{"openapi":"3.1.0","info":{"title":"SquidPro","version":"0.1.0"},"paths":{"/":{"get":{"summary":"Serve Catalog","description":"Serve the data catalog as the main page","operationId":"serve_catalog__get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}}}},"/profile.html":{"get":{"summary":"Serve Profile","description":"Serve the profile page","operationId":"serve_profile_profile_html_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}}}},"/catalog.html":{"get":{"summary":"Serve Catalog Alt","description":"Alternative catalog route","operationId":"serve_catalog_alt_catalog_html_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}}}},"/catalog":{"get":{"summary":"Serve Catalog Alt","description":"Alternative route to serve the catalog","operationId":"serve_catalog_alt_catalog_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}}}},"/reviewers/register":{"post":{"summary":"Register Reviewer","description":"Register as a data quality reviewer","operationId":"register_reviewer_reviewers_register_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ReviewerRegistration"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/reviewers/me":{"get":{"summary":"Get Reviewer Info","description":"Get reviewer information and stats","operationId":"get_reviewer_info_reviewers_me_get","parameters":[{"name":"x-api-key","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/review-tasks":{"get":{"summary":"Get Available Review Tasks","description":"Get available review tasks for a reviewer","operationId":"get_available_review_tasks_review_tasks_get","parameters":[{"name":"category","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Category"}},{"name":"task_type","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Task Type"}},{"name":"x-api-key","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/review-tasks/{task_id}/submit":{"post":{"summary":"Submit Review","description":"Submit a quality review for a task","operationId":"submit_review_review_tasks__task_id__submit_post","parameters":[{"name":"task_id","in":"path","required":true,"schema":{"type":"integer","title":"Task Id"}},{"name":"x-api-key","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ReviewSubmission"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/packages/{package_id}/quality":{"get":{"summary":"Get Package Quality","description":"Get quality assessment for a data package","operationId":"get_package_quality_packages__package_id__quality_get","parameters":[{"name":"package_id","in":"path","required":true,"schema":{"type":"integer","title":"Package Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/admin/create-review-task":{"post":{"summary":"Create Review Task","description":"Admin endpoint to manually create review tasks","operationId":"create_review_task_admin_create_review_task_post","parameters":[{"name":"package_id","in":"query","required":true,"schema":{"type":"integer","title":"Package Id"}},{"name":"task_type","in":"query","required":true,"schema":{"type":"string","title":"Task Type"}},{"name":"reward_pool","in":"query","required":false,"schema":{"type":"number","default":0.05,"title":"Reward Pool"}},{"name":"required_reviews","in":"query","required":false,"schema":{"type":"integer","default":3,"title":"Required Reviews"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/health":{"get":{"summary":"Health","operationId":"health_health_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}}}},"/mint":{"post":{"summary":"Mint","operationId":"mint_mint_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/MintReq"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/data/package/{package_id}":{"get":{"summary":"Query Package Data","description":"Query data from a specific package","operationId":"query_package_data_data_package__package_id__get","parameters":[{"name":"package_id","in":"path","required":true,"schema":{"type":"integer","title":"Package Id"}},{"name":"Authorization","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Authorization"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/data/price":{"get":{"summary":"Get Price","description":"Legacy price endpoint - queries the first crypto package","operationId":"get_price_data_price_get","parameters":[{"name":"pair","in":"query","required":false,"schema":{"type":"string","default":"BTCUSDT","title":"Pair"}},{"name":"Authorization","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Authorization"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/balances":{"get":{"summary":"Get Balances","description":"Get all current balances - useful for monitoring","operationId":"get_balances_balances_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}}}},"/balances/{user_type}/{user_id}":{"get":{"summary":"Get Balance","description":"Get balance for specific user","operationId":"get_balance_balances__user_type___user_id__get","parameters":[{"name":"user_type","in":"path","required":true,"schema":{"type":"string","title":"User Type"}},{"name":"user_id","in":"path","required":true,"schema":{"type":"string","title":"User Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/suppliers/register":{"post":{"summary":"Register Supplier","description":"Register a new data supplier","operationId":"register_supplier_suppliers_register_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/SupplierRegistration"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/suppliers/upload":{"post":{"summary":"Upload Dataset","description":"Upload a dataset file and create a new data package","operationId":"upload_dataset_suppliers_upload_post","parameters":[{"name":"x-api-key","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}}],"requestBody":{"required":true,"content":{"multipart/form-data":{"schema":{"$ref":"#/components/schemas/Body_upload_dataset_suppliers_upload_post"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/admin/pii-logs":{"get":{"summary":"Get Pii Logs","description":"View PII detection logs","operationId":"get_pii_logs_admin_pii_logs_get","parameters":[{"name":"limit","in":"query","required":false,"schema":{"type":"integer","default":50,"title":"Limit"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/suppliers/me":{"get":{"summary":"Get Supplier Info","description":"Get supplier information","operationId":"get_supplier_info_suppliers_me_get","parameters":[{"name":"x-api-key","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/suppliers/packages":{"post":{"summary":"Create Package","description":"Create a new data package","operationId":"create_package_suppliers_packages_post","parameters":[{"name":"x-api-key","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/DataPackage"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/packages":{"get":{"summary":"List Packages","description":"List all available data packages","operationId":"list_packages_packages_get","parameters":[{"name":"category","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Category"}},{"name":"tag","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Tag"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/packages/{package_id}":{"get":{"summary":"Get Package","description":"Get detailed package information","operationId":"get_package_packages__package_id__get","parameters":[{"name":"package_id","in":"path","required":true,"schema":{"type":"integer","title":"Package Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/admin/process-payouts":{"post":{"summary":"Trigger Payouts","description":"Manually trigger payout processing (admin endpoint)","operationId":"trigger_payouts_admin_process_payouts_post","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}}}},"/payout-history":{"get":{"summary":"Get Payout History","description":"Get recent payout history","operationId":"get_payout_history_payout_history_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}}}},"/stellar/info":{"get":{"summary":"Stellar Info","description":"Get Stellar configuration info","operationId":"stellar_info_stellar_info_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}}}},"/users/me/detailed":{"get":{"summary":"Get Detailed Profile","description":"Get comprehensive user profile with all ecosystem data","operationId":"get_detailed_profile_users_me_detailed_get","parameters":[{"name":"x-api-key","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/users/me/payout-history":{"get":{"summary":"Get Payout History","description":"Get user's payout history","operationId":"get_payout_history_users_me_payout_history_get","parameters":[{"name":"x-api-key","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/users/me/update-payout-threshold":{"post":{"summary":"Update Payout Threshold","description":"Update user's payout threshold","operationId":"update_payout_threshold_users_me_update_payout_threshold_post","parameters":[{"name":"x-api-key","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"type":"object","additionalProperties":true,"title":"Request"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/users/me/api-usage":{"get":{"summary":"Get Api Usage Stats","description":"Get API usage statistics","operationId":"get_api_usage_stats_users_me_api_usage_get","parameters":[{"name":"x-api-key","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/users/me":{"get":{"summary":"Get Unified Profile","description":"Get unified user profile - works with current separate tables","operationId":"get_unified_profile_users_me_get","parameters":[{"name":"x-api-key","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/data/uploaded/{filename}":{"get":{"summary":"Serve Uploaded Data","description":"Serve data from uploaded datasets","operationId":"serve_uploaded_data_data_uploaded__filename__get","parameters":[{"name":"filename","in":"path","required":true,"schema":{"type":"string","title":"Filename"}},{"name":"limit","in":"query","required":false,"schema":{"type":"integer","maximum":1000,"default":100,"title":"Limit"}},{"name":"offset","in":"query","required":false,"schema":{"type":"integer","minimum":0,"default":0,"title":"Offset"}},{"name":"Authorization","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Authorization"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/suppliers/uploads":{"get":{"summary":"List Uploads","description":"List supplier's uploaded datasets","operationId":"list_uploads_suppliers_uploads_get","parameters":[{"name":"x-api-key","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}}},"components":{"schemas":{"Body_upload_dataset_suppliers_upload_post":{"properties":{"file":{"type":"string","format":"binary","title":"File"},"name":{"type":"string","title":"Name"},"description":{"type":"string","title":"Description","default":""},"category":{"type":"string","title":"Category","default":"financial"},"price_per_query":{"type":"number","title":"Price Per Query","default":0.005},"tags":{"type":"string","title":"Tags","default":""}},"type":"object","required":["file","name"],"title":"Body_upload_dataset_suppliers_upload_post"},"Body_upload_dataset_with_pii_filter_suppliers_upload_post":{"properties":{"file":{"type":"string","format":"binary","title":"File"},"name":{"type":"string","title":"Name"},"description":{"type":"string","title":"Description","default":""},"category":{"type":"string","title":"Category","default":"financial"},"price_per_query":{"type":"number","title":"Price Per Query","default":0.005},"tags":{"type":"string","title":"Tags","default":""},"pii_policy":{"type":"string","title":"Pii Policy","default":"strict"}},"type":"object","required":["file","name"],"title":"Body_upload_dataset_with_pii_filter_suppliers_upload_post"},"DataPackage":{"properties":{"name":{"type":"string","title":"Name"},"description":{"type":"string","title":"Description"},"category":{"type":"string","title":"Category"},"endpoint_url":{"type":"string","title":"Endpoint Url"},"price_per_query":{"type":"number","title":"Price Per Query","default":0.005},"sample_data":{"anyOf":[{"additionalProperties":true,"type":"object"},{"type":"null"}],"title":"Sample Data"},"schema_definition":{"anyOf":[{"additionalProperties":true,"type":"object"},{"type":"null"}],"title":"Schema Definition"},"rate_limit":{"type":"integer","title":"Rate Limit","default":1000},"tags":{"items":{"type":"string"},"type":"array","title":"Tags","default":[]}},"type":"object","required":["name","description","category","endpoint_url"],"title":"DataPackage"},"HTTPValidationError":{"properties":{"detail":{"items":{"$ref":"#/components/schemas/ValidationError"},"type":"array","title":"Detail"}},"type":"object","title":"HTTPValidationError"},"MintReq":{"properties":{"agent_id":{"type":"string","title":"Agent Id"},"scope":{"type":"string","title":"Scope","default":"data.read.price"},"credits":{"type":"number","maximum":1000.0,"minimum":0.001,"title":"Credits"}},"type":"object","required":["agent_id","credits"],"title":"MintReq"},"ReviewSubmission":{"properties":{"quality_score":{"type":"integer","title":"Quality Score"},"timeliness_score":{"type":"integer","title":"Timeliness Score"},"schema_compliance_score":{"type":"integer","title":"Schema Compliance Score"},"overall_rating":{"type":"integer","title":"Overall Rating"},"findings":{"type":"string","title":"Findings"},"evidence":{"anyOf":[{"additionalProperties":true,"type":"object"},{"type":"null"}],"title":"Evidence"}},"type":"object","required":["quality_score","timeliness_score","schema_compliance_score","overall_rating","findings"],"title":"ReviewSubmission"},"ReviewerRegistration":{"properties":{"name":{"type":"string","title":"Name"},"stellar_address":{"type":"string","title":"Stellar Address"},"email":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Email"},"specializations":{"items":{"type":"string"},"type":"array","title":"Specializations","default":[]}},"type":"object","required":["name","stellar_address"],"title":"ReviewerRegistration"},"SupplierRegistration":{"properties":{"name":{"type":"string","title":"Name"},"email":{"type":"string","title":"Email"},"stellar_address":{"type":"string","title":"Stellar Address"}},"type":"object","required":["name","email","stellar_address"],"title":"SupplierRegistration"},"ValidationError":{"properties":{"loc":{"items":{"anyOf":[{"type":"string"},{"type":"integer"}]},"type":"array","title":"Location"},"msg":{"type":"string","title":"Message"},"type":{"type":"string","title":"Error Type"}},"type":"object","required":["loc","msg","type"],"title":"ValidationError"}}}}